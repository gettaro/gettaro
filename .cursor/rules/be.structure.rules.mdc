---
description: 
globs: 
alwaysApply: true
---
# Project Structure Rules

## Directory Layout
```
/frontend     # Frontend app
/backend      # Backend app (REST API)
```

## Database Layer
- [ ] Store migrations in `/backend/database/migrations/`
- [ ] Keep database initialization in `database.go`
- [ ] Use consistent migration naming

## HTTP Layer
- [ ] Organize handlers by resource (one file per resource)
- [ ] Keep middleware separate (one file per middleware)
- [ ] Keep it slim, in most cases it should only contain authorization and validation logic
- [ ] Maintain server configuration in `server/`:
  - `routes.go`: Route registration
  - `server.go`: Server initialization

## Service Layer
- [ ] Organize services by resource under `/backend/services/{resourceName}`
- [ ] Should be where the business logic is
- [ ] Structure each service as:
  - `api/`: Service interface and methods
  - `database/`: Database operations
  - `types/`: Business logic types

## Main Application
- [ ] Keep `main.go` focused on:
  - Service initialization
  - Dependency injection
  - Server startup

## Files
- `backend/**/*`

---

## Folder Layout
```
/frontend     # Frontend app
/backend      # Backend app (REST API)
```

### `/backend/database`
- `migrations/`: Contains migration files
- `database.go`: DB initialization logic

### `/backend/http`
- `handlers/`: One file per resource (e.g. `user.go`, `team.go`)
- `middleware/`: One file per middleware (e.g. `auth.go`)
- `server/`: 
- `server/routes.go`: Is where we configure and register the routes
- `server/server.go` Is where we nitialize the server and the middlewares

- `types/`: Shared request/response models
- `openapi.yml`: Must be updated whenever routes, types, or middleware change

### `/backend/services/{resourceName}`
- `api/`: Contains `api.go` for initialization and one file per method
- `database/`: Contains DB logic for the resource in one file
- `types/`: Internal business logic structs and models

### `main.go`
- Entry point of the application
- Initializes services and injects dependencies